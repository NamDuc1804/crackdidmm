<!DOCTYPE html>
<html lang="vi">
<head>
  <meta charset="UTF-8" />
  <title>D·ª± ƒêo√°n T√†i X·ªâu AI VIP - C√≥ Ph√™ Duy·ªát Thi·∫øt B·ªã</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <link href="https://fonts.googleapis.com/css2?family=Orbitron&display=swap" rel="stylesheet" />
  <style>
    body {
      font-family: 'Orbitron', sans-serif;
      background: linear-gradient(135deg, #000428, #004e92);
      color: #fff;
      padding: 40px 20px;
      overflow-x: hidden;
      min-height: 100vh;
      display: flex;
      flex-direction: column;
      justify-content: center;
      align-items: center;
    }

    h1 {
      text-align: center;
      color: #00f7ff;
      font-size: 2.5rem;
      margin-bottom: 30px;
      text-shadow: 0 0 12px #00eaff;
      animation: glow 2s ease-in-out infinite alternate;
    }

    @keyframes glow {
      from { text-shadow: 0 0 12px #00eaff; }
      to { text-shadow: 0 0 20px #00ffff, 0 0 30px #00ffff; }
    }

    .box {
      max-width: 600px;
      width: 100%;
      background: rgba(255, 255, 255, 0.05);
      border-radius: 16px;
      padding: 30px 30px 40px;
      box-shadow: 0 0 25px rgba(0,234,255,0.2), 0 0 40px rgba(0,234,255,0.1);
      backdrop-filter: blur(10px);
      position: relative;
    }

    .input-group {
      margin-bottom: 20px;
      display: flex;
      justify-content: space-between;
      align-items: center;
    }

    label {
      font-size: 1rem;
      width: 40%;
    }

    input[type="number"], input[type="text"] {
      width: 55%;
      padding: 10px;
      border-radius: 8px;
      border: none;
      font-size: 1.1rem;
      text-align: center;
      background: rgba(255,255,255,0.1);
      color: #fff;
      transition: 0.3s;
    }

    input[type="number"]:focus, input[type="text"]:focus {
      outline: none;
      box-shadow: 0 0 10px #00eaff;
      background: rgba(0,234,255,0.1);
    }

    button {
      padding: 12px 35px;
      background: #00eaff;
      border: none;
      border-radius: 8px;
      color: #000;
      font-size: 1.1rem;
      cursor: pointer;
      font-weight: bold;
      margin: 20px auto 10px;
      display: block;
      transition: 0.3s;
      user-select: none;
    }

    button:hover:not(:disabled) {
      background: #00c0d1;
      transform: scale(1.05);
    }

    button:disabled {
      background: #00707f;
      cursor: not-allowed;
      transform: none;
      opacity: 0.6;
    }

    .result {
      text-align: center;
      font-size: 1.4rem;
      margin-top: 30px;
      color: #ffd700;
      font-weight: bold;
      min-height: 40px;
      animation: fadeIn 1s ease forwards;
    }

    .tags {
      text-align: center;
      margin-top: 15px;
    }

    .tag {
      display: inline-block;
      margin: 8px;
      padding: 8px 16px;
      background: rgba(0, 234, 255, 0.15);
      border: 1px solid #00eaff66;
      border-radius: 30px;
      color: #00eaff;
      font-weight: bold;
      transition: 0.3s;
      box-shadow: 0 0 6px rgba(0,234,255,0.3);
    }

    footer {
      text-align: center;
      margin-top: 50px;
      color: #999;
      font-size: 0.9rem;
    }

    @keyframes fadeIn {
      from {opacity: 0;}
      to {opacity: 1;}
    }

    /* Login Modal */
    #loginModal {
      position: fixed;
      inset: 0;
      background: rgba(0,0,0,0.85);
      display: flex;
      justify-content: center;
      align-items: center;
      z-index: 9999;
    }

    #loginBox {
      background: #001e30;
      border-radius: 16px;
      padding: 30px 40px;
      width: 90%;
      max-width: 400px;
      box-shadow: 0 0 40px #00eaffaa;
      text-align: center;
    }

    #loginBox h2 {
      margin-bottom: 25px;
      color: #00ffff;
      text-shadow: 0 0 8px #00eaff;
      font-size: 1.8rem;
    }

    #vipKey {
      width: 100%;
      padding: 12px 15px;
      border-radius: 8px;
      border: none;
      font-size: 1.2rem;
      background: rgba(255,255,255,0.1);
      color: #fff;
      margin-bottom: 20px;
      transition: 0.3s;
    }

    #vipKey:focus {
      outline: none;
      box-shadow: 0 0 15px #00eaff;
      background: rgba(0,234,255,0.15);
    }

    #loginBtn {
      padding: 12px 30px;
      font-size: 1.1rem;
      border-radius: 8px;
      border: none;
      font-weight: bold;
      cursor: pointer;
      background: #00eaff;
      color: #000;
      transition: 0.3s;
    }

    #loginBtn:hover {
      background: #00c0d1;
      transform: scale(1.05);
    }

    #loginError {
      color: #ff5555;
      margin-top: 12px;
      min-height: 20px;
      font-weight: bold;
    }

    /* Disable form when locked */
    .locked input, .locked button {
      pointer-events: none;
      opacity: 0.5;
    }
  </style>
</head>
<body>

  <h1>üîÆ AI D·ª± ƒêo√°n T√†i X·ªâu VIP</h1>

  <div class="box locked" id="mainBox">
    <div class="input-group">
      <label for="sum1">üé≤ T·ªïng phi√™n 1:</label>
      <input type="number" id="sum1" min="3" max="18" disabled />
    </div>
    <div class="input-group">
      <label for="sum2">üé≤ T·ªïng phi√™n 2:</label>
      <input type="number" id="sum2" min="3" max="18" disabled />
    </div>
    <div class="input-group">
      <label for="sum3">üé≤ T·ªïng phi√™n 3:</label>
      <input type="number" id="sum3" min="3" max="18" disabled />
    </div>

    <button onclick="analyze()" disabled id="analyzeBtn">üöÄ Ph√¢n t√≠ch & D·ª± ƒëo√°n AI</button>

    <div id="output" class="result"></div>
    <div id="tags" class="tags"></div>
  </div>

  <footer>¬© 2025 AI T√†i X·ªâu Premium ‚Äì Design by Duc Namüíé</footer>

  <!-- Login Modal -->
  <div id="loginModal">
    <div id="loginBox">
      <h2>üîë Nh·∫≠p Key VIP ƒë·ªÉ truy c·∫≠p</h2>
      <input type="text" id="vipKey" placeholder="Nh·∫≠p key VIP t·∫°i ƒë√¢y..." autocomplete="off" />
      <button id="loginBtn" onclick="attemptLogin()">ƒêƒÉng nh·∫≠p</button>
      <div id="loginError"></div>
    </div>
  </div>

  <script>
    const VIP_KEYS = ['VIP2025', 'DucNamKey', 'AIxiu123']; // Danh s√°ch key VIP h·ª£p l·ªá (b·∫°n c√≥ th·ªÉ m·ªü r·ªông ho·∫∑c check backend)

    const loginModal = document.getElementById('loginModal');
    const mainBox = document.getElementById('mainBox');
    const inputs = mainBox.querySelectorAll('input');
    const analyzeBtn = document.getElementById('analyzeBtn');
    const loginError = document.getElementById('loginError');

    // T·∫°o fingerprint thi·∫øt b·ªã ƒë∆°n gi·∫£n d·ª±a tr√™n userAgent + platform + timezone offset
    function getDeviceFingerprint() {
      const ua = navigator.userAgent;
      const platform = navigator.platform;
      const timezone = new Date().getTimezoneOffset();
      return btoa(ua + '|' + platform + '|' + timezone);
    }

    // Ki·ªÉm tra xem thi·∫øt b·ªã ƒë√£ ƒë∆∞·ª£c ph√™ duy·ªát ch∆∞a
    function checkDeviceApproved() {
      const approvedFingerprint = localStorage.getItem('approvedDevice');
      return approvedFingerprint === getDeviceFingerprint();
    }

    // K√≠ch ho·∫°t UI khi ƒëƒÉng nh·∫≠p th√†nh c√¥ng
    function unlockUI() {
      loginModal.style.display = 'none';
      mainBox.classList.remove('locked');
      inputs.forEach(i => i.disabled = false);
      analyzeBtn.disabled = false;
      loginError.innerText = '';
    }

    // N·∫øu thi·∫øt b·ªã ƒë∆∞·ª£c ph√™ duy·ªát th√¨ t·ª± ƒë·ªông m·ªü
    if (checkDeviceApproved()) {
      unlockUI();
    } else {
      loginModal.style.display = 'flex';
    }

    // X·ª≠ l√Ω ƒëƒÉng nh·∫≠p key
    function attemptLogin() {
      const key = document.getElementById('vipKey').value.trim();
      if (!key) {
        loginError.innerText = '‚ö†Ô∏è Vui l√≤ng nh·∫≠p key VIP!';
        return;
      }

      if (VIP_KEYS.includes(key)) {
        // L∆∞u thi·∫øt b·ªã ƒë√£ ph√™ duy·ªát
        localStorage.setItem('approvedDevice', getDeviceFingerprint());
        unlockUI();
      } else {
        loginError.innerText = '‚ùå Key kh√¥ng h·ª£p l·ªá. Vui l√≤ng th·ª≠ l·∫°i.';
      }
    }

    function analyze() {
      const sums = [
        parseInt(document.getElementById('sum1').value),
        parseInt(document.getElementById('sum2').value),
        parseInt(document.getElementById('sum3').value),
      ];

      if (sums.some(isNaN)) {
        alert("‚ö†Ô∏è Vui l√≤ng nh·∫≠p ƒë·ªß c·∫£ 3 t·ªïng phi√™n!");
        return;
      }

      let tagsHTML = '';
      let pattern = [];
      let tai = 0, xiu = 0;

      sums.forEach((sum, idx) => {
        const result = sum >= 11 ? 'T√†i' : 'X·ªâu';
        pattern.push(result);
        result === 'T√†i' ? tai++ : xiu++;
        tagsHTML += `<div class="tag">Phi√™n ${idx + 1}: ${sum} ‚Üí ${result}</div>`;
      });

      // AI logic n√¢ng cao
      let prediction = '';
      const [first, second, third] = pattern;

      // M·ªôt s·ªë logic n√¢ng cao h∆°n, v√≠ d·ª• d√πng tr·ªçng s·ªë d·ª±a tr√™n chu·ªói
      const weightedTai = sums.reduce((acc, val, i) => acc + (val >= 11 ? (i+1)*1.2 : 0), 0);
      const weightedXiu = sums.reduce((acc, val, i) => acc + (val < 11 ? (i+1)*1.2 : 0), 0);

      if (first === second && second === third) {
        prediction = `ü§ñ AI VIP: ƒê·∫£o chi·ªÅu sau chu·ªói 3 l·∫ßn li√™n ti·∫øp l√† <strong>${third === 'T√†i' ? 'X·ªâu' : 'T√†i'}</strong>.`;
      } else if (weightedTai > weightedXiu) {
        prediction = `ü§ñ AI VIP: Nghi√™ng v·ªÅ <strong>X·ªâu</strong> (T√†i ƒëang chi·∫øm ∆∞u th·∫ø).`;
      } else if (weightedXiu > weightedTai) {
        prediction = `ü§ñ AI VIP: Nghi√™ng v·ªÅ <strong>T√†i</strong> (X·ªâu ƒëang chi·∫øm ∆∞u th·∫ø).`;
      } else if (third === second) {
        prediction = `ü§ñ AI VIP: Theo m√¥ h√¨nh l·∫∑p l·∫°i, d·ª± ƒëo√°n <strong>${third === 'T√†i' ? 'X·ªâu' : 'T√†i'}</strong>.`;
      } else {
        prediction = `ü§ñ AI VIP: 50/50 ‚Äì C√¢n b·∫±ng, h√£y c·∫©n tr·ªçng!`;
      }

      document.getElementById('output').innerHTML = prediction;
      document.getElementById('tags').innerHTML = tagsHTML;
    }
  </script>

</body>
</html>